<div class="container">
	<h2 class="h2 mb-3">Динамические роуты</h2>

	<app-shared-card
		cardBodyClass="d-flex flex-column justify-content-center"
		cardTitleClass="mb-0 flex-grow-1"
	>
		<ng-template #header>
			Страница постов
		</ng-template>
		<ng-template #icon>
			<div class="btn-group flex-shrink-0 m-sm-2 mb-0 mt-sm-0 mt-2">
				<button
					[fragment]="'fragment'"
					[queryParams]="{
						showIds: true
					}"
					[routerLink]="['/part9']"
					class="btn btn-dark"
				>
					Показать IDS
				</button>
				<button
					(click)="showIdsProgram()"
					class="btn btn-secondary"
				>
					Показать IDS (program)
				</button>
			</div>
		</ng-template>
		<ng-template #body>
			<div
				*ngFor="let onePost of postsService.allPosts; let idx = index"
				[ngClass]="{
					'mt-4': idx !== 0
				}"
				class="card shadow-sm"
			>
				<div class="card-header">
					<h2 class="h2">
						{{onePost.title}}
					</h2>
				</div>

				<div class="card-body">
					<p class="text-truncate mb-2">
						{{onePost.text}}
					</p>
					<a [routerLink]="['/part9', onePost.id]" class="link">
						Читать далее
					</a>
				</div>
				<div
					*ngIf="showIds === true"
					class="card-footer"
				>
					{{onePost.id}}
				</div>
			</div>
		</ng-template>
	</app-shared-card>
</div>
